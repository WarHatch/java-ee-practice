<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
>
<h:head/>
<h:body>
    <h2>Heroes:</h2>
    <ol>
        <ui:repeat value="#{heroes.allHeroes}" var="hero">
            <li>#{hero.name}</li>
            <ol>
                <ui:repeat value="#{heroes.getHeroSkills(hero.id)}" var="skill">
                    <li>#{skill.toString()}</li>
                </ui:repeat>
            </ol>
        </ui:repeat>
    </ol>
    <h:form>
        <p>Must have unique name</p>
        <h:inputText value="#{heroes.heroToCreate.name}" required="true" />
        <h:commandButton value="Add new hero" action="#{heroes.createHero}" />
    </h:form>
    <h3>Add skill to hero</h3>
    <h:form>
        <p>Hero id</p>
        <h:inputText value="#{skills.heroIdToMapTo}" required="true" />
        <p>Name</p>
        <h:inputText value="#{skills.skillToCreate.name}" required="true" />
        <p>description</p>
        <h:inputText value="#{skills.skillToCreate.description}" required="true" />
        <p>levelRequirement (optional)</p>
        <h:inputText value="#{skills.skillToCreate.levelRequirement}" required="false" />
        <h:commandButton value="Add skill" action="#{skills.createSkill}" />
    </h:form>

    <h2>Skills:</h2>
    <h3>Search for hero that has skill</h3>
    <h:form>
        <p>skill id</p>
        <h:inputText value="#{skills.heroesSearchSkillId}" required="true" />
        <h:commandButton value="search" action="#{skills.loadSkillHeroes}" />
        <p>skill id=#{skills.heroesSearchSkillId} is associated with these heroes:</p>
        <ol>
            <ui:repeat value="#{skills.skillHeroes}" var="hero">
                <li>#{hero.toString()}</li>
            </ui:repeat>
        </ol>
    </h:form>

    <h3>Associate hero to skill</h3>
    <h:form>
        <p>skill id | (to) hero id</p>
        <h:inputText value="#{skills.skillIdToMap}" required="true" />
        <h:inputText value="#{skills.heroIdToMapTo}" required="true" />
        <h:commandButton value="Associate" action="#{skills.mapHeroToSkill}" />
    </h:form>

    <h2>Creatures:</h2>
    <ol>
        <ui:repeat value="#{creatures.allCreatures}" var="creature">
            <li>#{creature.name}</li>
            <ol>
                <ui:repeat value="#{creatures.getCreatureStats(creature.id)}" var="stat">
                    <li>#{stat.toString()}</li>
                </ui:repeat>
            </ol>
        </ui:repeat>
    </ol>
    <h:form>
        <h:inputText value="#{creatures.creatureToCreate.name}" required="true" />
        <h:commandButton value="Add new creature" action="#{creatures.createCreature}" />
    </h:form>

    <h3>Add stats</h3>
    <h:form>
        <p>Creature id</p>
        <h:inputText value="#{stats.statToCreate.creature.id}" required="true" />
        <p>Color</p>
        <h:inputText value="#{stats.statToCreate.color}" required="true" />
        <p>threat attack health</p>
        <h:inputText value="#{stats.statToCreate.threat}" required="true" />
        <h:inputText value="#{stats.statToCreate.attack}" required="true" />
        <h:inputText value="#{stats.statToCreate.health}" required="true" />
        <h:commandButton value="Add new stat" action="#{stats.createStat}" />
    </h:form>
</h:body>
</html>